TARGET DECK: FIT::AG1::Binární halda

START
Basic

Co je zakořeněný strom?

Back:
- Zakořeněný strom je strom $T$, ve kterém je jeden vrchol $r \in V(T)$ označen jako kořen.
<!--ID: 1732107371938-->
END

START
Basic

Co jsou potomci a předci v zakořeněném stromu? (A otcové a synové)

Back:
- Leží-li $u$ na (jediné) cestě z $v$ do kořene, pak $u$ je předek $v$ a $v$ je potomek $u$. Pokud je navíc $\{u, v\} \in E(T)$ hrana, říkáme, že $u$ je otec $v$ a $v$ je syn $u$.
<!--ID: 1732107371946-->
END

START
Basic

Co jsou hladiny a hloubka zakořeněného stromu?

Back:
- Vrcholy rozdělíme podle vzdálenosti od kořene do hladin: v nulté leží kořen, v první jeho synové, atd.
- Hloubka zakořeněného stromu $T$ je počet jeho hladin.
<!--ID: 1732107371955-->
END

START
Basic

Kdy je strom binární?

Back:
Strom nazveme binární, pokud:

1. Je zakořeněný,
2. Každý vrchol má nejvýše dva syny a
3. U synů rozlišujeme, který je levý a který pravý.
<!--ID: 1732108065090-->
END

START
Basic

Jak definujeme binární minimovou haldu?

Back:
Binární minimová halda je datová struktura tvaru binárního stromu, v jehož každém vrcholu $x$ je uložen jeden klíč $k(x)$ a která splňuje tyto dvě vlastnosti:

1. **Tvar haldy**: Strom má všechny hladiny kromě poslední plně obsazené. Poslední hladina je zaplněna od levého okraje směrem k pravému.
2. **Haldové uspořádání**: Je-li $v$ vrchol a $s$ jeho syn, platí $k(v) \leq k(s)$.
<!--ID: 1732108065098-->
END


START
Basic

Kolik hladin má binární halda s $n$ prvky?

Back:
Binární halda s $n$ prvky má $\lfloor \log n \rfloor + 1$ hladin.

**Důkaz:**
Binární strom s $h \geq 1$ úplnými hladinami má:
$$n = 2^0 + 2^1 + 2^2 + \cdots + 2^{h-1} = 2^h - 1$$
vrcholů.

Vzhledem k **tvaru haldy** přibude nová hladina tehdy, když počet prvků $n$ vzroste z $2^h - 1$ na $2^h$. 

Z toho plyne vzorec, neboť právě funkce $\lfloor \log n \rfloor$ se při této změně $n$ zvětší o jedna. Pro $n = 2^h - 1$ je počet hladin:
$$h = (h - 1) + 1 = \lfloor \log (2^h - 1) \rfloor + 1.$$

END

START
Basic

Kolik listů a vnitřních vrcholů má halda s $n \geq 3$ prvky?

Back:
Binární halda s $n \geq 3$ prvky má $\lfloor n/2 \rfloor$ vnitřních vrcholů a $\lceil n/2 \rceil$ listů.

**Důkaz:**
Indukcí podle počtu vrcholů binárního stromu.

1. **Lemma platí triviálně pro $n = 3$** (2 listy a kořen – jediný vnitřní vrchol).

2. **Nechť $n > 3$ je liché.** Odebráním posledního listu, který je druhým (tj. pravým) synem posledního vnitřního vrcholu, vznikne halda o sudé velikosti $n - 1$, pro kterou z ind. předp. lemma platí.  
   - Vrácením posledního listu se počet vnitřních vrcholů nezmění a původní strom jich tedy má $\lfloor (n - 1)/2 \rfloor = \lfloor n/2 \rfloor$.  
   - Počet listů se zvětší o jedna a původní strom jich tedy má $\lceil (n - 1)/2 \rceil + 1 = \lceil n/2 \rceil$.  

3. **Nechť $n \geq 4$ je sudé.** Pak poslední list je jediný levý syn svého otce.  
   - Jeho odebráním vznikne halda liché velikosti $n - 1$, která má podle ind. předpokladu $\lceil (n - 1)/2 \rceil$ listů a $\lfloor (n - 1)/2 \rfloor$ vnitřních vrcholů.  
   - Vrácením posledního listu jeden vnitřní vrchol přibude a původní strom jich tedy má $\lfloor (n - 1)/2 \rfloor + 1 = \lfloor n/2 \rfloor$.  
   - Počet listů se nezmění a původní strom jich tedy má $\lceil (n - 1)/2 \rceil = \lceil n/2 \rceil$.  

END

